---
layout:     post
title:      Kotlin
subtitle:   è¯­è¨€å­¦ä¹ 
date:       2025-07-02
author:     LXG
header-img: img/post-bg-sky.jpg
catalog: true
tags:
    - Language
---

[ä½¿ç”¨ Kotlin å¼€å‘ Android åº”ç”¨](https://developer.android.google.cn/kotlin/first?hl=zh-cn)

## ä¸ºä»€ä¹ˆå­¦ä¹ kotlin

| å±‚çº§ / æ¨¡å—             | Kotlin ä½¿ç”¨æƒ…å†µ                                       |
|------------------------|------------------------------------------------------|
| ç³»ç»Ÿåº”ç”¨ï¼ˆAppsï¼‰        | âœ… å¤§é‡ä½¿ç”¨ï¼Œå¦‚ Settingsã€SystemUIã€Launcher3 ç­‰å¼€å§‹è¿ç§»åˆ° Kotlin |
| Framework å±‚           | ğŸŸ¡ éƒ¨åˆ†å¼•å…¥ï¼Œå¦‚ Jetpack æ–° API ä½¿ç”¨ Kotlin ç¼–å†™               |
| HAL / JNI / Native å±‚  | âŒ ä¸ä½¿ç”¨ Kotlinï¼Œä»ä»¥ C/C++ ä¸ºä¸»                            |
| æ ¸å¿ƒæœåŠ¡ï¼ˆAMS/PMS ç­‰ï¼‰  | ğŸŸ¡ ä¸»è¦ä¸º Javaï¼Œéƒ¨åˆ†æ¨¡å—å°è¯• Kotlin é‡æ„                       |
| æ„å»ºç³»ç»Ÿ / å¯åŠ¨è¿‡ç¨‹     | âŒ ä¸ä½¿ç”¨ Kotlinï¼ŒMake/C/Java ä¾æ—§ä¸ºä¸»                         |

## Kotlin æœªèƒ½å…¨é¢æ›¿ä»£ Java çš„åŸå› 

* AOSP ä¸­å¾ˆå¤šæ ¸å¿ƒæœåŠ¡æ˜¯æ—©æœŸå¤§é‡ç”¨ Java ç¼–å†™çš„ï¼ˆå¦‚ AMSã€PMSã€WMS ç­‰ï¼‰ï¼Œé‡æ„æˆæœ¬æé«˜ï¼›
* Java å¯¹ç³»ç»Ÿåº•å±‚æœåŠ¡æ›´ç¨³å®šã€å…¼å®¹æ€§æ›´å¥½ï¼›
* ç¼–è¯‘å·¥å…·é“¾ã€å†…å­˜ä½¿ç”¨ä¼˜åŒ–æ–¹é¢ Kotlin åœ¨ç³»ç»Ÿå±‚ä»æœ‰æŒ‘æˆ˜ï¼›
* Kotlin å¢åŠ äº†ç¼–è¯‘æ—¶ä¾èµ–å’Œè¿è¡Œæ—¶è´Ÿæ‹…ï¼ˆå¦‚æ ‡å‡†åº“ã€æ‰©å±•åº“ï¼‰ï¼Œè¿™åœ¨ AOSP çš„ç²¾ç®€ç›®æ ‡ä¸­æ˜¯ä¸ªé¡¾è™‘ã€‚

AOSP æ­£åœ¨é€æ­¥å¼•å…¥ Kotlin å°¤å…¶æ˜¯åœ¨ç³»ç»Ÿåº”ç”¨å±‚ï¼ˆAppsï¼‰ï¼Œä½†åœ¨ Framework å’Œæ ¸å¿ƒæœåŠ¡ä¸­ Java ä»æ˜¯ä¸»åŠ›è¯­è¨€ï¼ŒKotlin æ˜¯æ¸è¿›å¼æ›¿ä»£è€Œéæ•´ä½“è¿ç§»ã€‚

## kotlin å¯¹æ¯” java

| ç»´åº¦             | Kotlin                                    | Java                                       |
|------------------|--------------------------------------------|--------------------------------------------|
| è¯­æ³•ç®€æ´æ€§       | âœ… æ›´ç®€æ´ï¼ˆæ”¯æŒç±»å‹æ¨å¯¼ã€é»˜è®¤å‚æ•°ç­‰ï¼‰       | âŒ ç›¸å¯¹ç¹çï¼ˆä»£ç å†—é•¿ï¼‰                    |
| ç©ºæŒ‡é’ˆå®‰å…¨        | âœ… å†…å»º Null å®‰å…¨ç³»ç»Ÿ                       | âŒ Null æ˜¯å¸¸è§é”™è¯¯æ¥æº                    |
| æ‰©å±•å‡½æ•°æ”¯æŒ     | âœ… æ”¯æŒ                                     | âŒ ä¸æ”¯æŒ                                 |
| åç¨‹æ”¯æŒ         | âœ… å†…ç½®åç¨‹ï¼ˆè½»é‡çº¿ç¨‹ï¼‰                      | âŒ éœ€è¦ä½¿ç”¨çº¿ç¨‹æˆ–ç¬¬ä¸‰æ–¹åº“                 |
| Lambda è¡¨è¾¾å¼    | âœ… åŸç”Ÿæ”¯æŒ                                 | âœ… Java 8+ å¼€å§‹æ”¯æŒ                        |
| æ•°æ®ç±»           | âœ… å†…å»º `data class`                        | âŒ æ‰‹å†™ getterã€setter ç­‰                 |
| é»˜è®¤ä¸å¯å˜æ€§     | âœ… æ¨èä½¿ç”¨ val                             | âŒ é»˜è®¤å¯å˜                               |
| ç±»å‹æ¨å¯¼         | âœ… æ”¯æŒç±»å‹è‡ªåŠ¨æ¨å¯¼                         | âŒ å¿…é¡»å£°æ˜ç±»å‹                           |
| æšä¸¾å¢å¼º         | âœ… æ”¯æŒå¯†å°ç±»ã€when                         | âŒ åŠŸèƒ½æœ‰é™                               |
| Android æ”¯æŒ     | âœ… å®˜æ–¹æ¨èè¯­è¨€                             | âœ… è€ç‰Œç¨³å®šè¯­è¨€                            |
| JVM å…¼å®¹æ€§       | âœ… ä¸ Java å®Œå…¨äº’é€š                         | âœ… ä¸ Kotlin å¯äº’é€šï¼ˆå…¬å¼€ APIï¼‰           |
| ç¼–è¯‘é€Ÿåº¦         | â³ ç¨æ…¢                                     | âš¡ æ›´å¿«                                   |
| å­¦ä¹ æ›²çº¿         | â¬†ï¸ ç¨é™¡å³­                                  | âœ… å®¹æ˜“ä¸Šæ‰‹                               |
| ç¤¾åŒºç”Ÿæ€         | âœ… æ´»è·ƒå¢é•¿ä¸­                               | âœ… éå¸¸æˆç†Ÿ                               |

## build.gradle å’Œ build.gradle.kts

| ç‰¹æ€§             | Groovy (`build.gradle`)         | Kotlin (`build.gradle.kts`)                   |
|------------------|----------------------------------|-----------------------------------------------|
| ç±»å‹å®‰å…¨         | âŒ å¼±ç±»å‹                          | âœ… å¼ºç±»å‹                                       |
| è‡ªåŠ¨è¡¥å…¨ä¸æç¤º   | âŒ å¼±                             | âœ… å¥½ï¼ˆå°¤å…¶åœ¨ Android Studio Arctic Fox+ï¼‰       |
| è„šæœ¬çµæ´»æ€§       | âœ… é«˜ï¼ˆæ”¯æŒè¾ƒå¤š DSL é­”æ³•ï¼‰          | âš ï¸ é™åˆ¶è¾ƒå¤šï¼Œè¯­æ³•æ›´ä¸¥æ ¼                        |
| ç¼–å†™æ˜“ç”¨æ€§       | âœ… è¯­æ³•å®½æ¾                        | âš ï¸ å®¹æ˜“è¸©å‘ï¼Œå°¤å…¶æ˜¯æ—©æœŸç‰ˆæœ¬ Gradle æ’ä»¶         |
| ç¼–è¯‘æ€§èƒ½         | âš ï¸ ç¨æ…¢                           | âœ… ç¨å¿«ï¼ˆGradle 7.0+ è¡¨ç°æ›´ä½³ï¼‰                |
| å®˜æ–¹è¶‹åŠ¿         | âœ… å…¼å®¹ä¸»æµé¡¹ç›®                     | âœ… Google å·²æ¨èæ–°é¡¹ç›®ä½¿ç”¨ Kotlin DSL         |

## settings.gradle.kts

```kotlin

pluginManagement {
    repositories {
        google()
        maven {
            url = uri("https://maven.aliyun.com/repository/gradle-plugin")
            content {
                includeGroupByRegex("com\\.android.*")
                includeGroupByRegex("com\\.google.*")
                includeGroupByRegex("androidx.*")
            }
        }
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        maven { url = uri("https://maven.aliyun.com/repository/public") }
        maven { url = uri("https://maven.aliyun.com/repository/google") }
        maven { url = uri("https://maven.aliyun.com/repository/jcenter") } // å·²ç»åºŸå¼ƒï¼Œä»…ç”¨äºè€é¡¹ç›®
        google()
        mavenCentral()
    }
}

rootProject.name = "AccessibilityDemo"
include(":app")

```

## build.gradle.kts

```kotlin

// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    alias(libs.plugins.android.application) apply false
    alias(libs.plugins.kotlin.android) apply false
    alias(libs.plugins.kotlin.compose) apply false
}

```

## app/build.gradle.kts

```kotlin

plugins {
    alias(libs.plugins.android.application)
    alias(libs.plugins.kotlin.android)
    alias(libs.plugins.kotlin.compose)
}

android {
    namespace = "com.wif.demo"
    compileSdk = 35

    defaultConfig {
        applicationId = "com.wif.demo"
        minSdk = 24
        targetSdk = 35
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = "11"
    }
    buildFeatures {
        compose = true
    }
}

dependencies {

    implementation(libs.androidx.core.ktx)
    implementation(libs.androidx.lifecycle.runtime.ktx)
    implementation(libs.androidx.activity.compose)
    implementation(platform(libs.androidx.compose.bom))
    implementation(libs.androidx.ui)
    implementation(libs.androidx.ui.graphics)
    implementation(libs.androidx.ui.tooling.preview)
    implementation(libs.androidx.material3)
    testImplementation(libs.junit)
    androidTestImplementation(libs.androidx.junit)
    androidTestImplementation(libs.androidx.espresso.core)
    androidTestImplementation(platform(libs.androidx.compose.bom))
    androidTestImplementation(libs.androidx.ui.test.junit4)
    debugImplementation(libs.androidx.ui.tooling)
    debugImplementation(libs.androidx.ui.test.manifest)
}

```

## gradle/libs.versions.toml

```toml

[versions]
agp = "8.10.1"
kotlin = "2.0.21"
coreKtx = "1.10.1"
junit = "4.13.2"
junitVersion = "1.1.5"
espressoCore = "3.5.1"
lifecycleRuntimeKtx = "2.6.1"
activityCompose = "1.8.0"
composeBom = "2024.09.00"

[libraries]
androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }
junit = { group = "junit", name = "junit", version.ref = "junit" }
androidx-junit = { group = "androidx.test.ext", name = "junit", version.ref = "junitVersion" }
androidx-espresso-core = { group = "androidx.test.espresso", name = "espresso-core", version.ref = "espressoCore" }
androidx-lifecycle-runtime-ktx = { group = "androidx.lifecycle", name = "lifecycle-runtime-ktx", version.ref = "lifecycleRuntimeKtx" }
androidx-activity-compose = { group = "androidx.activity", name = "activity-compose", version.ref = "activityCompose" }
androidx-compose-bom = { group = "androidx.compose", name = "compose-bom", version.ref = "composeBom" }
androidx-ui = { group = "androidx.compose.ui", name = "ui" }
androidx-ui-graphics = { group = "androidx.compose.ui", name = "ui-graphics" }
androidx-ui-tooling = { group = "androidx.compose.ui", name = "ui-tooling" }
androidx-ui-tooling-preview = { group = "androidx.compose.ui", name = "ui-tooling-preview" }
androidx-ui-test-manifest = { group = "androidx.compose.ui", name = "ui-test-manifest" }
androidx-ui-test-junit4 = { group = "androidx.compose.ui", name = "ui-test-junit4" }
androidx-material3 = { group = "androidx.compose.material3", name = "material3" }

[plugins]
android-application = { id = "com.android.application", version.ref = "agp" }
kotlin-android = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }
kotlin-compose = { id = "org.jetbrains.kotlin.plugin.compose", version.ref = "kotlin" }

```

## å…³ç³»å›¾

```txt

libs.versions.toml
  â”‚
  â””â”€â”€â–¶ æä¾›ç‰ˆæœ¬å·å’Œåˆ«åï¼ˆæ¯”å¦‚ agpã€kotlinã€composeï¼‰
           â”‚
           â–¼
settings.gradle.kts
  â”œâ”€â”€ è®¾ç½®æ’ä»¶ä»“åº“ pluginManagement { ... }
  â”œâ”€â”€ è®¾ç½®ä¾èµ–ä»“åº“ dependencyResolutionManagement { ... }
  â””â”€â”€ include(":app") æŒ‡å®šæ¨¡å—
           â”‚
           â–¼
build.gradle.ktsï¼ˆæ¯ä¸ªæ¨¡å—ï¼‰
  â”œâ”€â”€ ä½¿ç”¨ plugins { alias(...) } å¼•å…¥æ’ä»¶
  â””â”€â”€ ä½¿ç”¨ dependencies { implementation(...) } å¼•å…¥ä¾èµ–


```

## åŸºæœ¬è¯­æ³•

1. å˜é‡ val var
2. è¿ç®—ç¬¦ ä¸javaä¸€è‡´
3. å­—ç¬¦ä¸²
4. å­—ç¬¦ä¸²æ“ä½œå‡½æ•°
5. æ¨¡æ¿è¡¨è¾¾å¼
6. æ¡ä»¶è¯­å¥
7. when å­—ç¬¦ï¼Œkotlinæ²¡æœ‰switchå…³é”®å­—
8. å¾ªç¯è¯­å¥ while for
9. è·³è½¬è¯­å¥ continue break
10. åŒºé—´
11. æ•°ç»„
12. å˜é‡çš„ç±»å‹è½¬æ¢
13. å¯ç©ºå˜é‡ éç©ºå˜é‡
14. ?: æ“ä½œç¬¦

```kotlin

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        val int_a: Int = 1
        val Str_a: String = "hello"

        Log.d("LXG", Str_a)
        Log.d("LXG", "" + Str_a[3])

        val number: IntArray = intArrayOf(1, 2, 3, 4)
        var bool_array: BooleanArray = booleanArrayOf(true, true, false)
        var char_array: CharArray = charArrayOf('a', 'b')

        val int_array: Array<Int> = arrayOf(1, 2, 3)

        var string_array: Array<String> = arrayOf("hello", "world")

        
        var num1 = 1
        val s1 = "a is ${num1}"
        val s2 = "a is $num1"
        Log.d("LXG", "" + s1)
        Log.d("LXG", "" + s2)

        var month: Int = 7
        when(month) {
            12,1,2 -> println("å†¬å­£")
            3,4,5 -> println("æ˜¥å­£")
            6,7,8 -> println("å¤å­£")
            9,10,11 -> println("ç§‹å­£")
            else -> println("æœªçŸ¥")
        }

        var a: Int = 7
        var b: Int = 8
        when {
            a > b -> println("a å¤§äº b")
            a < b -> println("a å¤§äº b")
            else -> println("a ç­‰äº b")
        }

        for (i in 0..3) {
            println("i = $i")
        }
        
        number.forEach { println(it.toString() + "\t") }

        string_array.forEachIndexed() {index, s -> println("index = $index , s = $s") }

        // åŒºé—´
        for (i in 1.rangeTo(4)) {
            println("i = $i")
        }

        for (i in 4.downTo(1)) {
            println("i = $i")
        }

        for (i in 4.downTo(1) step 2) {
            println("i = $i")
        }

        // æ•°ç»„
        for ((index, i) in bool_array.withIndex()) {
            println("index = $index , s = $i")
        }
        println("4, index = " + number.indexOf(4))

        var name: String = "Tom" // éç©ºå˜é‡
        var telephone : String? = null
        var result = telephone?.length
        println(result)

    }

```

## å‡½æ•°

1. å‡½æ•°å®šä¹‰
2. å‡½æ•°çš„ç±»å‹
3. å•è¡¨è¾¾å¼å‡½æ•°
4. å‡½æ•°çš„å‚æ•°
5. å¯å˜å‚æ•° vararg
6. å‡½æ•°çš„åˆ†ç±»ï¼šé¡¶å±‚å‡½æ•°  æˆå‘˜å‡½æ•° å±€éƒ¨å‡½æ•° é€’å½’å‡½æ•°
7. å‡½æ•°é‡è½½


```kotlin

    fun doubleValue(x:Int): Int {
        return x * 2
    }

    // å•è¡¨è¾¾å¼å‡½æ•°
    // private fun doubleValue(x:Int): Int = x * 2

    fun sum(name:String, vararg scores:Int) {
        var result = 0
        scores.forEach { result += it }
        println(name + "æ€»æˆç»©ï¼š "+ result)
    }

```

## é¢å‘å¯¹è±¡

1. ç±»çš„å®šä¹‰
2. å¯¹è±¡çš„åˆ›å»º
3. ç±»çš„å°è£…
4. ç±»çš„ç»§æ‰¿
5. æ–¹æ³•é‡å†™
6. superå…³é”®å­—
7. Anyç±»å’ŒObjectç±»
8. æŠ½è±¡ç±»
9. æ¥å£
10. åµŒå¥—ç±»(å†…éƒ¨ç±» innerå…³é”®å­—)
11. æšä¸¾ç±»
12. å¯†å°ç±»
13. æ•°æ®ç±»
14. å•ä¾‹æ¨¡å¼
15. ä¼´ç”Ÿå¯¹è±¡
16. ç±»å§”æ‰˜ å±æ€§å§”æ‰˜ å…³é”®å­— by
17. å»¶è¿ŸåŠ è½½ by lazy
18. å¼‚å¸¸


```kotlin

package com.wif.kotlindemo

abstract class Animal {
    abstract fun eat()
}

interface Monkey {
    fun sleep()
}

object  Singleton {
    var name = "å•ä¾‹æ¨¡å¼"
    fun sayHello() {
        println("hello")
    }
}

class Person : Animal(), Monkey {

    private var name = "wif"
    private val age = 0

    fun sayHello() {
        println("hello")
    }

    override fun eat() {
        println("monkey eat")
    }

    override fun sleep() {
        println("monkey sleep")
        Singleton.sayHello()
    }

}

```

## é›†åˆ

1. Collection: List Set MutableCpllection
2. Map: HashMap TreeMap MutableMap
3. ä¸å¯å˜List: æŸ¥è¯¢ æ‰¹é‡åŒ…å« æ£€ç´¢ ç¼–å†
4. å¯å˜MutableList
5. ä¸å¯å˜Set
6. å¯å˜MutableSet
7. ä¸å¯å˜Map
8. å¯å˜MutableMap


```kotlin

        // ä¸å¯å˜List
        val list: List<Int> = listOf(1, 2, 3, 4, 5)
        if (list.contains(3)) {
            println("åŒ…å«3")
        }

        val mIndex = list.iterator()
        while (mIndex.hasNext()) {
            println(mIndex.next().toString() + "\t")
        }

        // å¯å˜List
        val muList: MutableList<Int> = mutableListOf(1, 2, 3, 4, 5)
        muList.add(6)
        muList.remove(1)
        muList.set(1, 7)
        muList.forEach { println(it.toString() + "\t") }

        // ä¸å¯å˜é›†åˆ
        val set: Set<Int> = setOf(1, 2, 3, 4, 5)
        val setIndex = set.iterator()
        while (mIndex.hasNext()) {
            println(setIndex.next().toString() + "\t")
        }

        // å¯å˜é›†åˆ
        val muSet: MutableSet<Int> = mutableSetOf(1, 2, 3, 4, 5)
        muSet.add(6)
        muSet.remove(1)
        muSet.forEach { println(it.toString() + "\t") }
        println(muSet)

        // ä¸å¯å˜Map
        val map = mapOf(1 to "one", 2 to "two", 3 to "three")
        map.forEach { println(it.key.toString() + ":" + it.value) }
        val mapKey = map.keys
        val mapValue = map.values
        val mapEntry = map.entries
        mapEntry.forEach { println(it.key.toString() + ":" + it.value) }

        // å¯å˜Map
        val muMap = mutableMapOf(1 to "one", 2 to "two", 3 to "three")
        muMap.put(4, "four")
        muMap.remove(1)
        muMap.forEach { println(it.key.toString() + ":" + it.value) }

```

## Lambdaç¼–ç¨‹

Lambda è¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œå‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³æ˜¯å°†è®¡ç®—æœºè¿ç®—è§†ä¸ºå‡½æ•°çš„è®¡ç®—ï¼Œå¹¶ä¸”è®¡ç®—çš„å‡½æ•°å¯ä»¥æ¥æ”¶å‡½æ•°ä½œä¸ºè¾“å…¥å‚æ•°æˆ–è€…è¿”å›å€¼

1. æ— å‚æ•°æœ‰è¿”å›å€¼
2. æœ‰å‚æ•°æœ‰è¿”å›å€¼
3. è¿”å›å€¼ï¼šè¿”å›å€¼çš„ç±»å‹å’Œå€¼æ˜¯æœ€åä¸€æ¡è¯­å¥å†³å®šçš„
4. é«˜é˜¶å‡½æ•°
5. æ‰©å±•å‡½æ•°
6. kotlin å’Œ java å¾ˆå¤§çš„ä¸€ä¸ªåŒºåˆ«å°±æ˜¯å‡½æ•°çš„ç”¨æ³•ï¼Œkotlinè¦çµæ´»çš„å¤š
7. å‡½æ•°ä½œä¸ºè¿”å›å€¼
8. æ ‡å‡†åº“ä¸­çš„é«˜é˜¶å‡½æ•°
9. å†…è”å‡½æ•°


```kotlin

        run { println("lambda") }

        var sumInt = {
            a:Int, b:Int -> a + b
        }
        println(sumInt(6,8))

        // é«˜é˜¶å‡½æ•°
        val listNew = 1..20
        println("èƒ½è¢«5æ•´é™¤çš„æ•°")
        println(listNew.picNum { it -> it % 5 == 0 })
        println("èƒ½è¢«10æ•´é™¤çš„æ•°")
        println(listNew.picNum { it -> it % 10 == 0 })

        // å‡½æ•°ä½œä¸ºè¿”å›å€¼
        val normalUserPrice = getPrice(USER.NORMAL)(200.0)
        println("æ™®é€šç”¨æˆ·ä»·æ ¼ï¼š $normalUserPrice")
        val vipPrice = getPrice(USER.VIP)(200.0)
        println("è¶…çº§ä¼šå‘˜ä»·æ ¼ï¼š $vipPrice")

        // æ ‡å‡†åº“ä¸­çš„é«˜é˜¶å‡½æ•°
        println("æ‰¾å‡ºç­‰äº3çš„å…ƒç´ ï¼š${list.find { it == 3 }}")
        println("ç¬¬ä¸€ä¸ªç­‰äº3çš„å…ƒç´ ï¼š${list.first { it == 3 }}")
        println("æœ€åä¸€ä¸ªæ‰¾å‡ºç­‰äº3çš„å…ƒç´ ï¼š${list.last { it == 3 }}")


    // ç»™åŒºé—´å®šä¹‰ä¸€ä¸ªæ‰©å±•æ–¹æ³•
    fun IntRange.picNum(function: (Int)->Boolean): List<Int> {
        val list = mutableListOf<Int>()
        for (i in this) {
            if (function(i)) {
                list.add(i)
            }
        }
        return list
    }

    enum class USER {
        NORMAL, VIP, ADMIN
    }

    fun getPrice(userType: USER): (Double) -> Double {
        if (userType == USER.NORMAL) {
            return {it}
        }
        return { price -> 0.88 * price}
    }

```

## æ³›å‹

æ³›å‹æ˜¯ä¸€ç§ç¼–è¯‘æ—¶çš„å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼Œå…è®¸å®šä¹‰ç±»ï¼Œæ¥å£ï¼Œæ–¹æ³•æ—¶ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œå£°æ˜çš„ç±»å‹å‚æ•°åœ¨ä½¿ç”¨æ—¶ç”¨å…·ä½“çš„ç±»å‹æ¥æ›¿æ¢ã€‚æ³›å‹çš„æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹

æ³›å‹ç¼–ç¨‹æ˜¯æå‡ä»£ç å¤ç”¨æ€§ä¸ç±»å‹å®‰å…¨çš„å¼ºå¤§å·¥å…·ï¼Œé€‚åˆæ„å»ºé€šç”¨åº“ä¸æŠ½è±¡æ¡†æ¶ï¼Œä½†åœ¨ä¸€äº›è¯­è¨€ä¸­å­˜åœ¨ç±»å‹æ“¦é™¤ã€å¯è¯»æ€§å’Œè°ƒè¯•å›°éš¾ç­‰æŒ‘æˆ˜ã€‚

1. æ³›å‹çš„å®šä¹‰
2. æ³›å‹çš„åˆ†ç±»ï¼šæ³›å‹ç±»
3. è‡ªå®šä¹‰æ³›å‹ç±»
4. æ³›å‹æ¥å£
5. æ³›å‹æ–¹æ³•
6. è‡ªå®šä¹‰æ³›å‹æ–¹æ³•
7. æ³›å‹çº¦æŸ
8. å­—ç±»å’Œå­—ç±»å‹
9. åå˜å’Œé€†å˜
10. æ³›å‹æ“¦é™¤å’Œå®åŒ–ç±»å‹

```kotlin

    class Box<T>(t:T) {
        var value = t
    }


    val box: Box<Int> = Box<Int>(10)
    val box2 = Box(10)

    // æ³›å‹ç±»
    val list = ArrayList<Int>()
    val map = HashMap<String, Int>()

    // è‡ªå®šä¹‰æ³›å‹ç±»
    class Box<T>() {
        var t: T? = null

        fun add(t: T) {
            this.t = t
        }

        fun get(): T? {
            return t
        }
    }

    data class Apple(val name: String)

    fun demo() {
        val box = Box<Apple>()
        box.add(Apple("Apple"))
        val apple = box.get()
        println(apple?.name)
    }

    // æ³›å‹æ¥å£
    interface List<E> : Collection<E> {
        fun get(index: Int): E
        fun set(index: Int, element: E): E
        fun add(element: E): Boolean
        fun add(index: Int, element: E): Boolean
        fun remove(element: E): Boolean
        fun indexOf(element: E): Int
        fun lastIndexOf(element: E): Int
        fun listIterator(): ListIterator<E>
        fun listIterator(index: Int): ListIterator<E>
        fun subList(fromIndex: Int, toIndex: Int): List<E>
    }


    //è‡ªå®šä¹‰æ³›å‹æ–¹æ³•
    fun <T> printInfo(content: T) {
        when(content) {
            is Int -> println("Int")
            is String -> println("String")
            is Double -> println("Double")
            else -> println("Other")
        }
    }

```

## åç¨‹

åç¨‹æ˜¯å°†å¤æ‚çš„å¼‚æ­¥æ“ä½œæ”¾å…¥åº•å±‚åº“ä¸­ï¼Œç¨‹åºé€»è¾‘åœ¨åç¨‹ä¸­æŒ‰ç…§é¡ºåºè¡¨è¾¾ï¼Œåº•å±‚åº“å°†ç”¨æˆ·ä»£ç åŒ…è£…ä¸ºå›è°ƒ/è®¢é˜…äº‹ä»¶ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š

* åç¨‹æŒ‚èµ·
* ç®€åŒ–ä»£ç 

```kotlin

import androidx.lifecycle.lifecycleScope
import kotlinx.coroutines.delay
import kotlinx.coroutines.launch


class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {

        lifecycleScope.launch {
            delay(1000)
            println("å»¶è¿Ÿ1ç§’")   // éœ€è¦æ³¨æ„ï¼šæ­¤æ‰“å°ä»åœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥åç¨‹å’Œçº¿ç¨‹æ˜¯æœ‰å·®å¼‚çš„
        }
    
        println("onCreate end")
    }

}

```












