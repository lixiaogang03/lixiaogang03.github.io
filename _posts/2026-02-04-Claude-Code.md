---
layout:     post
title:      Claude Code
subtitle:   AI 编程
date:       2026-02-04
author:     LXG
header-img: img/post-bg-sky.jpg
catalog: true
tags:
    - AI
---

## Claude Code 缓存目录

```bash

~/.claude/
├── cache/               # 临时缓存文件，比如下载的模型、接口响应缓存
├── debug/               # 调试信息存放目录，模型调用、报错日志等
├── downloads/           # 通过 Claude Code 下载的文件，或用户拖入的资源
├── file-history/        # 文件操作历史记录，比如每次修改、生成、保存的版本
├── history.jsonl        # 会话历史记录文件（JSON Lines 格式），保存每次对话内容
├── plans/               # Plan Mode 相关的计划文件，存储模型生成的多步任务计划
├── plugins/             # 插件目录，存放自定义插件或官方扩展
├── projects/            # 项目配置目录，每个 Claude Code 项目一个子目录
├── session-env/         # 会话环境变量、上下文信息存储
├── shell-snapshots/     # Shell 命令执行快照，用于回溯或调试命令操作
├── stats-cache.json     # 模型统计缓存文件，记录 token 使用、响应时间等信息
├── statsig/             # 内部实验/特性标记文件夹（A/B 测试或新功能标记）
├── tasks/               # 待办任务或 AI 自动执行任务列表
├── telemetry/           # 遥测数据，记录使用行为、性能数据（可能用于优化）
├── todos/               # 用户或模型生成的待办事项列表

```
## Claude Code 擅长的方向

| 编程领域          | 擅长程度  | 说明                                                                         |
| ------------- | ----- | -------------------------------------------------------------------------- |
| **前端开发**      | ⭐⭐⭐⭐⭐ | HTML/CSS/JS、React/Vue/Angular 组件生成、布局优化、交互逻辑实现，生成代码质量高，适合单文件或模块级任务         |
| **后端开发**      | ⭐⭐⭐⭐  | API、数据库操作、业务逻辑、常用框架（Flask/Django/Spring Boot/Node.js）生成较好，复杂架构和分布式方案需要人工干预 |
| **移动端 APP**   | ⭐⭐⚖️  | Android/iOS UI 代码、逻辑示例可以生成，完整项目结构复杂，真机调试有限                                 |
| **嵌入式开发**     | ⭐⚠️   | 简单 MCU C 代码、算法示例可以生成，驱动、底层寄存器操作、RTOS 或 Linux 内核开发不擅长                       |
| **算法/数据结构**   | ⭐⭐⭐⭐  | 各类算法示例、LeetCode/竞赛题解、数学计算，适合快速生成参考实现                                       |
| **数据库/SQL**   | ⭐⭐⭐⭐  | SQL 查询、建表、优化建议、ORM 代码生成，复杂大规模数据操作需要人工验证                                    |
| **脚本/自动化**    | ⭐⭐⭐⭐⭐ | Python、Shell、批处理脚本、自动化任务生成能力很强                                             |
| **DevOps/部署** | ⭐⭐    | Dockerfile、Kubernetes 配置示例可生成，复杂 CI/CD 流程仍需人工配置                            |
| **AI/机器学习**   | ⭐⭐⭐   | 生成模型训练代码、数据预处理、简单示例，复杂模型优化和调参仍需专家操作                                        |

## 启动

**设置环境变量后再启动**

```bash

export ANTHROPIC_BASE_URL="https://api.jiekou.ai/anthropic"
export ANTHROPIC_AUTH_TOKEN="API KEY"
export ANTHROPIC_MODEL="claude-sonnet-4-5-20250929"
export ANTHROPIC_SMALL_FAST_MODEL="claude-haiku-4-5-20251001"

lxg@lxg:~/code/github/lixiaogang03.github.io$ claude
                                                                                                                                                                                                    
╭─── Claude Code v2.1.29 ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                          │ Tips for getting started                                                                                                                              │
│               Welcome back!              │ Run /init to create a CLAUDE.md file with instructions for Claude                                                                                     │
│                                          │ ─────────────────────────────────────────────────────────────────                                                                                     │
│                                          │ Recent activity                                                                                                                                       │
│                  ▐▛███▜▌                 │ No recent activity                                                                                                                                    │
│                 ▝▜█████▛▘                │                                                                                                                                                       │
│                   ▘▘ ▝▝                  │                                                                                                                                                       │
│      Sonnet 4.5 · API Usage Billing      │                                                                                                                                                       │
│   ~/code/github/lixiaogang03.github.io   │                                                                                                                                                       │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
                                                                                                                                                                                                    
  /model to try Opus 4.5                                                                                                                                                                            
                                                                                                                                                                                                    
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
❯ Try "fix typecheck errors"                                                                                                                                                                        
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  ? for shortcuts   

```

## Shift + Tab 按键切换模式

```bash

  ? for shortcuts 

  ⏵⏵ accept edits on (shift+tab to cycle)   
  
  ⏸ plan mode on (shift+tab to cycle) 

```

| 模式          | 图标 | 功能说明              | 适用场景                   |
| ----------- | -- | ----------------- | ---------------------- |
| 默认模式 / 编辑模式 | —  | 提出修改建议，等待用户确认     | 想精细控制修改时使用             |
| 自动接受模式      | ⏵⏵ | 自动应用 Claude 建议的修改 | 简单、重复任务，或信任 Claude 时   |
| 计划模式        | ⏸  | 不做修改，仅分析和生成修改计划   | 复杂任务、大规模跨文件修改，先生成计划再执行 |

## 感叹号切换到bash命令行模式

```bash

────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
! ls
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  ! for bash mode

```

此时可以输入bash命令

## Shift + 回车键 长文输入

当Claude Code输入请求内容较长时有两种方式可以编辑

1. Shift + 回车键 换行输入
2. Ctrl + g 打开一个VScode标签页, 输入内容后保存, 内容就会进入输入框，此时按回车即可输入

![claude_prompt](/images/ai/claude_prompt.png)

## 命令

**一眼能救命的高频命令**

| 命令        | 核心作用        | 什么时候用       |
| --------- | ----------- | ----------- |
| `/init`   | 建立项目认知与协作规则 | 刚进新项目       |
| `/resume` | 继续刚才被打断的任务  | 输出被截断 / 插话  |
| `/rewind` | 回到过去的某个状态   | 方向跑偏、误操作    |
| `/clear`  | 清空当前上下文     | 聊乱了，想“干净重来” |

**提升“可控性”的命令**

| 命令         | 干什么的          | 实战价值   |
| ---------- | ------------- | ------ |
| `/plan`    | 只生成修改方案，不动代码  | 大改前防翻车 |
| `/explain` | 解释当前文件 / 选中代码 | 接手陌生代码 |
| `/review`  | 审查代码、找问题      | PR 前自检 |
| `/test`    | 生成或完善测试思路     | 防回归    |

**偏工程化 / 重构向**

| 命令          | 作用          | 适合谁      |
| ----------- | ----------- | -------- |
| `/refactor` | 结构性重构而不改行为  | 有经验的工程师  |
| `/optimize` | 性能 / 资源优化   | 嵌入式 / 后端 |
| `/lint`     | 风格 / 潜在问题检查 | 团队规范强    |
| `/doc`      | 生成文档或注释     | 代码交付前    |

**认知类 & 定位问题**

| 命令       | 作用          |
| -------- | ----------- |
| `/map`   | 梳理项目结构和依赖关系 |
| `/trace` | 跟踪某个逻辑的调用路径 |
| `/why`   | 解释“为什么这么写”  |
| `/risk`  | 指出改动可能引入的风险 |

## 将图片传给Claude Code

**将图片直接拖入Claude Code窗口即可**

![claude_code_image](/images/ai/claude_code_image.png)

## /init 命令

**为当前项目建立“初始认知和工作规则”**

| 场景            | 是否推荐               |
| ------------- | ------------------ |
| 第一次进入一个新项目    | ✅ 强烈推荐             |
| 刚 clone 别人的仓库 | ✅                  |
| 项目结构复杂        | ✅                  |
| 已经聊了很多但方向混乱   | ⚠️ 可重新开会话再 `/init` |
| 只问一个临时小问题     | ❌ 不必要              |

![claude_code_init](/images/ai/claude_code_init.png)

**每次新会话先做一件事**

![claude_code_init_2](/images/ai/claude_code_init_2.png)

## /Exit 退出Claude Code

```bash

❯ /exit                                                                                                                                                                                             
  ⎿  See ya!                                                                                                                                                                                        
                                                                                                                                                                                                    
  5 tasks (4 done, 1 open) · ctrl+t to hide tasks
  ◻ 测试 Giscus 评论功能                                                                                                                                                                            
  ✔ 启用 GitHub Discussions      
  ✔ 安装和配置 Giscus                                                                                                                                                                               
  ✔ 修改 _config.yml 配置文件                                                                                                                                                                       
  ✔ 修改 post.html 模板文件   
                                                                                                                                                                                                    
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
❯  
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  ? for shortcuts 

Resume this session with:
claude --resume 429a6c1c-a5d6-4ca3-a363-36f725970f57

```







